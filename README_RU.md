# OpenVK Legacy –¥–ª—è Android

_[English](README.md)_

–ê–≤—Ç–æ—Ä: [–î–º–∏—Ç—Ä–∏–π –¢—Ä–µ—Ç—å—è–∫–æ–≤ (Tinelix)](https://github.com/tretdm)

**OpenVK Legacy** - –º–æ–±–∏–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–µ—Ç—Ä–æ-—É—Å—Ç—Ä–æ–π—Å—Ç–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞ Android 2.1 Eclair –∏ –≤—ã—à–µ.\
_–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ OpenVK API._

–ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã –ø—Ä–∏–Ω—è—Ç—å –≤–∞—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö [–≤ –Ω–∞—à–µ–º –±–∞–≥-—Ç—Ä–µ–∫–µ—Ä–µ](https://github.com/openvk/mobile-android-legacy/projects/1).

![featureGraphic](fastlane/metadata/android/en-US/images/featureGraphic.png)

## –°–∫–∞—á–∞—Ç—å APK
* **—á–µ—Ä–µ–∑ F-Droid**
  * **[repo.openvk.uk](https://repo.openvk.uk/repo/)** (–Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, –∑–µ—Ä–∫–∞–ª–æ ~~[–±–µ–∑ TLS](http://repo.openvk.co/repo/)~~ –Ω–µ –æ–ø–ª–∞—á–µ–Ω–æ)
  * [f-droid.org](https://f-droid.org/packages/uk.openvk.android.legacy/)
  * [izzysoft.de](https://apt.izzysoft.de/fdroid/index/apk/uk.openvk.android.legacy)
* **—á–µ—Ä–µ–∑ [Telegram-–∫–∞–Ω–∞–ª](https://t.me/+nPLHBZqAsFlhYmIy)**
* **—á–µ—Ä–µ–∑ [—Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–ª–∏–∑–æ–≤](https://github.com/openvk/mobile-android-legacy/releases/latest)**
* **—á–µ—Ä–µ–∑ [NashStore](https://store.nashstore.ru/store/637cc36cfb3ed38835524503)** _(–∫–∞–∫ –±—ã –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ üòÇ)_
* **—á–µ—Ä–µ–∑ [Trashbox](https://trashbox.ru/topics/164477/openvk-legacy)**

## –°–±–æ—Ä–∫–∞
–ú—ã —Å–æ–≤–µ—Ç—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Android Studio 3.1.2](https://developer.android.com/studio/archive) –≤–º–µ—Å—Ç–µ —Å Java 7 –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–ª—è Android 2.1 Eclair –∏ –≤—ã—à–µ.

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤ (Theora, VP8, Opus, MP3onMP4) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–µ –≤–µ—Ä—Å–∏–∏ FFmpeg:
* **FFmpeg 0.8.5** –¥–ª—è 32-–±–∏—Ç–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä - ARMv5/ARMv6, ARMv7, x86
* **FFmpeg 3.1.4** –¥–ª—è 64-–±–∏—Ç–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä - ARMv8a.

–ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –∏—Ö, –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:
+ **–î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ GNU/Linux –∏–ª–∏ WSL2** \
  –î–∞, –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤–æ–∑–º–æ–∂–Ω–∞ —Å–±–æ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∞ Linux/WSL2, –Ω–µ –∏—Å–∫–ª—é—á–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –ø–æ–¥ Windows/Cygwin –∏ macOS.

  –°–±–æ—Ä–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –Ω–∞ Ubuntu 12.04 LTS –∏ Debian 8.7.1 (—Ç–æ–ª—å–∫–æ FFmpeg 0.8.12 c NDK r6), –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤.  _–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ FFmpeg –Ω–∞ Ubuntu 22.04 LTS? ü§î_
+ **[Android NDK r8e](http://web.archive.org/web/20130501232214/http://developer.android.com/tools/sdk/ndk/index.html) –∏ [Android NDK r11c](https://github.com/android/ndk/wiki/Unsupported-Downloads#r10e)** \
  –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å, —Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ NDK —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ANDROID_NDK_HOME`.

  Android NDK `r8e` –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ FFmpeg 0.8.12 –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Android.

  –¢–∞–∫–∂–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ NDK (–≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `platforms`) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Gradle —à–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
+ **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** \
  –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è [Ubuntu/Debian/Linux Mint](https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu) –∏–ª–∏ [CentOS/Fedora](https://trac.ffmpeg.org/wiki/CompilationGuide/Centos)

  **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û:** –î–ª—è –∑–∞–ø—É—Å–∫–∞ 32-–±–∏—Ç–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤–∫–ª—é—á–∞—è NDK r7, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–∫–µ—Ç—ã: `libstdc++6:i386`, `libgcc1:i386`, `zlib1g:i386`, `libncurses5:i386` –¥–ª—è Ubuntu/Debian/Linux Mint.
+ **–°–∫—Ä–∏–ø—Ç—ã, —Å–æ–±–∏—Ä–∞—é—â–∏–µ FFmpeg –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∫–æ–¥–æ–≤** \
  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è OpenVK Legacy –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
  ```sh
   chmod +x ./build-ffmpeg.sh && \
   ANDROID_NDK_HOME=[path/to/ndk-r8e] ./build-ffmpeg.sh 0.8.12 && \
   ANDROID_NDK_HOME=[path/to/ndk-r11c] ./build-ffmpeg.sh 3.1.4
  ```


  –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ FFmpeg, –∞ —Ç–∞–∫–∂–µ –∫–æ–¥ —Å–±–æ—Ä—â–∏–∫–∞ –ø–æ–¥ Android –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–æ–¥–º–æ–¥—É–ª–µ `builder` [–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `./ndk-modules/ovkmplayer`](https://github.com/openvk/mobile-android-legacy/tree/main/ndk-modules/ovkmplayer).

**–í–ù–ò–ú–ê–ù–ò–ï!** –ü–æ—Å–ª–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏ `java.util.zip.ZipException: invalid entry compressed size (expected [m] but got [n] bytes)` –≤ –∑–∞–¥–∞—á–µ `:[package_name]:mockableAndroidJar`, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Android SDK Build-tools 28 –∏ –≤—ã—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (Clean Project).

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
1. [Android Support Library v24 for 1.6+](https://developer.android.com/topic/libraries/support-library) (Apache License 2.0)
2. [HttpUrlWrapper](https://github.com/tinelix/httpurlwrapper) (Apache License 2.0)
3. [PhotoView 1.2.5](https://github.com/Baseflow/PhotoView/tree/v1.2.5) (Apache License 2.0)
4. [SlidingMenu with Android 10+ patch](https://github.com/tinelix/SlidingMenu) (Apache License 2.0)
5. [OkHttp 3.8.0](https://square.github.io/okhttp/) (Apache License 2.0)
6. [Twemojicon (Emojicon —Å –ø–∞–∫–µ—Ç–æ–º Twemoji)](https://github.com/rockerhieu/emojicon/tree/1.2) (Apache License 2.0)
7. [FFmpeg 3.1.4](https://github.com/tinelix/ffmpeg-android-builder/tree/ffmpeg-3.1.4) and [FFmpeg 0.8.12](https://github.com/tinelix/ffmpeg-android-builder/tree/ffmpeg-0.8.12) —Å [—Å–±–æ—Ä—â–∏–∫–æ–º](https://github.com/tinelix/ffmpeg-android-builder/tree/42c67d80bc924c9709a7648e2d12f04ddf43b32b) (LGPLv3.0)
8. [ijkplayer 0.8.2](https://github.com/bilibili/ijkplayer/tree/k0.6.2) (LGPL 2.1+)
9. [Retro-ActionBar](https://github.com/tinelix/retro-actionbar) (Apache License 2.0)
10. [Retro-PopupMenu](https://github.com/tinelix/retro-popupmenu) (Apache License 2.0)
11. [SystemBarTint](https://github.com/jgilfelt/SystemBarTint) (Apache License 2.0)
12. [–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è SwipeRefreshLayout —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º PTR](https://github.com/xyxyLiu/SwipeRefreshLayout) (Apache License 2.0)
13. [android-i18n-plurals](https://github.com/populov/android-i18n-plurals) (X11 License)
14. [Application Crash Reports 4.6.0](https://github.com/ACRA/acra/tree/acra-4.6.0) (Apache License 2.0)
15. [Universal Image Loader](https://github.com/nostra13/Android-Universal-Image-Loader/tree/v1.9.5) (Apache License 2.0)
16. [NineOldAndroids animation API](https://github.com/JakeWharton/NineOldAndroids) (Apache License 2.0)

## –õ–∏—Ü–µ–Ω–∑–∏—è OpenVK Legacy
[GNU Affero GPL v3.0](COPYING) –∏–ª–∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏.

## –°—Å—ã–ª–∫–∏
[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ OpenVK API](https://docs.openvk.su/openvk_engine/api/description/)\
[OpenVK Mobile](https://openvk.uk/app)

<a href="https://codeberg.org/OpenVK/mobile-android-legacy">
    <img alt="Get it on Codeberg" src="https://codeberg.org/Codeberg/GetItOnCodeberg/media/branch/main/get-it-on-blue-on-white.png" height="60">
</a>
